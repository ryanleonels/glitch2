"use strict";const resetLayer=a=>{switch(data.highestReset=Math.max(data.highestReset,a),a){case 1:return data.ord=new EN(0),data.over=new EN(0),data.autoclickerLoop={succ:new EN(0),lim:new EN(0)},data.dynamic=new EN(1),data.manualClicksLeft=1e3,data.decrementy=new EN(0),void(data.chal8Tip=!1);case 2:data.op=new EN(0),data.succAuto=new EN(0),data.limAuto=new EN(0),data.factorShifts=0,data.factors=[],data.autobuyerLoop={max:new EN(0),inf:new EN(0)},data.challenge=0,data.incrementy=new EN(0);break;case 3:data.factorBoosts=data.aups.includes(9)?data.factorBoosts.div(10).floor():new EN(0),data.bups=data.bups.filter(a=>a%4==0),data.challenge=0,data.chalComp=[0,0,0,0,0,0,0,0],data.leastBoost.gt(1)&&(data.iups=[new EN(0),new EN(0),new EN(0),!1,!1,!1,!1,!1,!1],data.manifolds=new EN(0),data.dups=[new EN(0),new EN(0),new EN(0)],data.darkManifolds=new EN(0)),data.omegaChallenge=0,data.reachedBHO=!1,data.collapseTime=0,data.maxCard=new EN(1),data.autoprestigerLoop={shift:new EN(0),boost:new EN(0)},data.fbLoop=new EN(0)}resetLayer(a-1)},increment=(a=!1)=>{(!a||data.manualClicksLeft>0)&&(data.ord.mod(base()).eq(base()-1)?data.over=data.over.add(1):data.ord=data.ord.add(1),a&&(inChal(6)||inChal(8))&&data.manualClicksLeft--)},maximize=(a=!1)=>{if(data.ord.mod(base()).eq(base()-1)&&data.over.gte(1)){data.ord=data.ord.sub(base()-1),data.over=data.over.add(base()-1);do{data.over=data.over.sub(data.over.add(base()).div(2).ceil()),data.ord=data.ord.add(base())}while(data.over.add(base()).gte(2*base())&&!data.ord.mod(base()**2).eq(0));data.ord.mod(base()**2).eq(0)||(data.ord=data.ord.add(data.over)),data.over=new EN(0)}},infinity=(a=!1)=>{data.incrementyverse||hardy().gte(data.leastBoost.lte(15)?data.leastBoost.lte(1)?10:100:10240)&&(calcOrdPoints().gte(1.9e256)?data.op=calcOrdPoints():((inChal(6)||inChal(8))&&(data.op=new EN(0)),data.op=data.op.add(totalOPGain()),data.op.gt(1e256)&&(data.op=new EN(1e256))),resetLayer(1))},buySucc=(a=!1)=>{inChal(1)&&!data.succAuto.lt(1)||!data.op.gte(1.9e256)?data.op.gte(autoclickerCost(data.succAuto))&&(data.op=data.op.sub(autoclickerCost(data.succAuto)),data.succAuto=data.succAuto.add(1)):data.succAuto=data.succAuto.add(1)},buyLim=(a=!1)=>{inChal(1)&&!data.succAuto.lt(1)||!data.op.gte(1.9e256)?data.op.gte(autoclickerCost(data.limAuto))&&(data.op=data.op.sub(autoclickerCost(data.limAuto)),data.limAuto=data.limAuto.add(1)):data.limAuto=data.limAuto.add(1)},maxAll=(a=!1)=>{if(!data.incrementyverse)if(data.op.gte(1.9e256))data.succAuto=inChal(1)?new EN(1):data.op,data.limAuto=inChal(1)?new EN(1):data.op;else if(buySucc(),buyLim(),!inChal(1)){let a=EN.affordGeometricSeries(data.op,100,2,data.succAuto);data.op=data.op.sub(EN.sumGeometricSeries(a,100,2,data.succAuto)),data.succAuto=data.succAuto.add(a),a=EN.affordGeometricSeries(data.op,100,2,data.limAuto),data.op=data.op.sub(EN.sumGeometricSeries(a,100,2,data.limAuto)),data.limAuto=data.limAuto.add(a)}},factorShift=(a=!0)=>{if(!data.incrementyverse&&data.op.gte(factorShiftCost()))if(data.factorShifts<7){data.factorShifts++,resetLayer(1),data.op=new EN(0),data.succAuto=new EN(0),data.limAuto=new EN(0),data.autobuyerLoop={inf:new EN(0),max:new EN(0)};for(let a=0;a<data.factorShifts;a++)data.factors[a]=0}else factorBoost()},buyFactor=(a,t=!1)=>{!inChal(2)&&data.factors[a-1]<10-a&&data.op.gte(10**(a*2**data.factors[a-1]))&&(data.op.lt(1.9e256)&&(data.op=data.op.sub(10**(a*2**data.factors[a-1]))),data.factors[a-1]++)},maxFactors=(a=!1)=>{if(!inChal(2))if(data.op.gte(1.9e256))data.factors=[9,8,7,6,5,4,3];else for(let a=data.factorShifts;a>0;a--)for(;data.op.gte(10**(a*2**data.factors[a-1]))&&data.factors[a-1]<10-a;)buyFactor(a)},maxInfStuff=(a=!1)=>{data.succAuto.eq(0)&&buySucc(),data.limAuto.eq(0)&&buyLim(),maxFactors(),maxAll()},factorBoost=(a=!1)=>{if(!data.incrementyverse)if(data.challenge>0)completeChal();else if(data.op.gte(new EN(3).pow(V(data.factorBoosts.add(3))).mul(1e256).add(1e256))){let t=!0;a&&data.boostConf&&(t=confirm("Are you sure you want to do a Factor Boost?"+(data.bups.includes(8)?" Don’t forget to check Incrementy!":""))),t&&(data.factorBoosts=data.factorBoosts.add(calcBulk()),resetLayer(2))}},bup=(a,t=!1)=>{if(!data.bups.includes(a)&&3!==data.omegaChallenge&&(data.leastBoost.lte(1)||!inChal(6))&&boosters().gte(bupCost(a))&&(a<=4||data.bups.includes(a-4))&&(12!==a||totalChalComp()>=7)&&(16!==a||totalChalComp()>=22)&&(20!==a||totalChalComp()>=33)&&(24!==a||totalChalComp()>=37))if(16===a){if(confirm("Buying this upgrade will destroy everything booster destroys, along with all of your upgrades, autobuyers, challenges, incrementy, incrementy upgrades, and manifolds for a single currency of the next prestige layer. Are you ready for this?")){if(confirm("Are you really sure about this? YOU WILL LOSE EVERYTHING YOU HAVE!")){confirm("ARE YOU REALLY SURE YOU WANT TO DO THAT! YOU WILL LOSE EVERYTHING AND YOU CAN’T UNDO THIS AND MOM WILL GET MAD AND YOU WILL SEE A GLIMPSE OF THE UNKNOWN AND THIS IS YOUR LAST CHANCE!!!")&&collapse()}}}else data.bups.push(a),9!==a&&10!==a||(data.ord=new EN(0),data.over=new EN(0))},refundBups=(a=!1)=>{if(!data.incrementyverse&&spentBoosters().gt(0)){let t=!0;a&&data.refundConf&&(t=confirm("Are you sure you want to refund your boosters? You’ll reset this Factor Boost!")),t&&(data.bups=data.bups.filter(a=>a%4==0),data.fbOnRefund&&factorBoost(),resetLayer(2))}},enterChal=(a,t=!1)=>{if(!inAnyChal()&&(data.sfEver.includes(51)||8===a||data.chalComp[a-1]<3)&&6!==data.omegaChallenge&&(9!==a||0===data.omegaChallenge)&&(2!==data.omegaChallenge||a%2!=0)){let e=!0;t&&data.chalConf&&(e=confirm("Are you sure you want to start a challenge? You’ll forfeit your current run in favor of the challenge.")),e&&(data.fbOnChal&&factorBoost(),data.leastBoost.lte(1)&&(data.bups=data.bups.filter(a=>a%4==0)),8===a&&refundBups(),resetLayer(2),data.challenge=a)}},exitChal=(a=!1)=>{data.challenge>0&&(data.leastBoost.lte(1)&&(data.bups=data.bups.filter(a=>a%4==0)),resetLayer(2))},completeChal=(a=!1)=>{data.challenge>0&&data.op.gte(chalGoal())&&(data.chalComp[data.challenge-1]+=chalBulk(),exitChal())},iup=(a,t=!1)=>{data.incrementyverse&&!data.sfBought.includes([93,91,92][a])||data.incrementy.gte(EN.pow(4===data.omegaChallenge&&1===a?1e6:iupCosts[a],a>=3?1:data.iups[a].add(1)))&&(a<3||data.bups.includes(12)&&!data.iups[a])&&(!data.incrementyverse&&calcMile().lt(10)&&(data.incrementy=data.incrementy.sub(iupCosts[a].pow(a>=3?1:data.iups[a].add(1)))),data.iups[a]=!(a<3)||data.iups[a].add(1))},getManifold=(a=!1)=>{incrementyMult().gte(manifoldReq())&&(calcMile().lt(10)&&(data.incrementy=new EN(0)),data.manifolds=data.manifolds.add(1))},collapse=(a=!1)=>{if(!data.incrementyverse)if(data.omegaChallenge>0)exitOC();else if(data.reachedBHO)if(data.highestReset<3){let a=1,t=0;const e=setInterval(()=>{if(collapseAnimation+=a,1===a&&100===collapseAnimation&&(a=0),300===++t){a--,data.cardinals=data.cardinals.add(calcCard()),data.mostCardOnce=data.mostCardOnce.max(calcCard()),data.leastBoost=data.leastBoost.min(data.factorBoosts);for(let a=0;a<3;a++)data.alephPower[a]=new EN(1e4);resetLayer(3),data.bups=[4,8,12,16]}-1===a&&0===collapseAnimation&&clearInterval(e)},50)}else{let t=!0;a&&data.collapseConf&&(t=confirm("Are you sure you want to collapse?")),t&&(data.cardinals=data.cardinals.add(calcCard()),data.mostCardOnce=data.mostCardOnce.max(calcCard()),data.leastBoost=data.leastBoost.min(data.factorBoosts),data.bestSing.gte(20)&&(data.refundPoints=data.refundPoints.add(1)),resetLayer(3))}else if(a&&data.highestReset>=3){let a=!0;data.collapseConf&&(a=confirm("Do you want to restart the current collapse to reset the collapse timer?")),a&&resetLayer(3)}},assign=(a,t=!1)=>{if(data.cardinals.gt(0)){if(data.alephPower[0].lte(1e4)&&data.alephPower[1].lte(1e4)&&data.alephPower[2].lte(1e4)&&1!==a&&!confirm("You should probably go ℵ1 for your first cardinal. Are you sure you want to assign an ℵ"+a+"?"))return;data.cardinals=data.cardinals.sub(1),data.assignCard[a]=data.assignCard[a].add(1)}},assignAll=(a,t=!1)=>{data.alephPower[0].lte(1e4)&&data.alephPower[1].lte(1e4)&&data.alephPower[2].lte(1e4)&&1!==a&&!confirm("You should probably go ℵ1 for your first cardinal. Are you sure you want to assign an ℵ"+a+"?")||(data.assignCard[a]=data.assignCard[a].add(data.cardinals),data.cardinals=new EN(0))},getAlephOmega=(a=!1)=>{if(data.assignCard[0].gt(0)&&data.assignCard[1].gt(0)&&data.assignCard[2].gt(0)){for(let a=0;a<3;a++)data.assignCard[a]=data.assignCard[a].sub(1);data.alephOmega=data.alephOmega.add(1)}},getHalfAlephOmega=(a,t=!1)=>{const e=data.assignCard[0].min(data.assignCard[1]).min(data.assignCard[2]).div(2).floor();for(let a=0;a<3;a++)data.assignCard[a]=data.assignCard[a].sub(e);data.alephOmega=data.alephOmega.add(e)},aup=(a,t=!1)=>{data.alephOmega.gte(aupCosts[a-1])&&(data.alephOmega=data.alephOmega.sub(aupCosts[a-1]),data.aups.push(a))},dup=a=>{data.aups.includes(4)&&data.decrementy.gte(dupCosts[a].pow(data.dups[a].add(1)))&&(data.dups[a]=data.dups[a].add(1))},getDM=()=>{data.aups.includes(4)&&(data.darkManifolds=data.darkManifolds.add(dmBulk()))},buyShiftAuto=()=>{data.leastBoost.lte(10)&&data.alephOmega.gte(500)&&(data.alephOmega=data.alephOmega.sub(500),data.shiftAuto=data.shiftAuto.add(1))},buyBoostAuto=()=>{data.leastBoost.lte(10)&&data.alephOmega.gte(500)&&(data.alephOmega=data.alephOmega.sub(500),data.boostAuto=data.boostAuto.add(1))},maxAutoprestige=()=>{if(data.leastBoost.gt(10))return;const a=data.alephOmega.div(2e3).floor();data.alephOmega=data.alephOmega.sub(a.mul(1e3)),data.shiftAuto=data.shiftAuto.add(a),data.boostAuto=data.boostAuto.add(a)},distributeCard=()=>{if(data.leastBoost.gt(10))return;const a=data.cardinals.div(3).floor();data.cardinals=data.cardinals.sub(a.mul(3));for(let t=0;t<3;t++)data.assignCard[t]=data.assignCard[t].add(a)},onAutoChalCompChange=()=>data.autoChalComp=isNaN(parseInt($("#autoChalComp")[0].value))?0:parseInt($("#autoChalComp")[0].value),onAutoChal8CompChange=()=>data.autoChal8Comp=isNaN(parseInt($("#autoChal8Comp")[0].value))?0:parseInt($("#autoChal8Comp")[0].value),getSingularity=a=>{switch(a){case 0:data.darkManifolds.sub(dmSacrifice()).gte(new EN(data.sfBought.includes(23)?4:5).pow(data.sing.dm).mul(1e6))&&(data.sing.dm=data.sing.dm.add(1));break;case 1:data.manifolds.gt(data.sing.m)&&(data.sing.m=data.sing.m.add(1));break;case 2:data.alephOmega.gte(new EN(data.sfBought.includes(21)?30:100).pow(data.sing.nw).mul(1e20))&&(data.alephOmega=data.alephOmega.sub(new EN(data.sfBought.includes(21)?30:100).pow(data.sing.nw).mul(1e20)),data.sing.nw=data.sing.nw.add(1))}},downgradeSing=()=>{singLevel().gt(1)&&(data.sing.m=data.sing.m.sub(1))},maximizeSing=()=>data.sing.m=data.manifolds,minimizeSing=()=>data.sing.m=data.sing.dm.add(data.sing.nw).neg(),onSingRangeChange=()=>data.sing.m=new EN(parseInt($("#singRange")[0].value)),enterOC=a=>{if(data.ocEnterConf&&!confirm("Entering an Omega Challenge will reset everything Collapse resets, and you lose all your factor boosts and won’t get them back. Are you sure you want to do this?"))return;let t,e;if(1===a){if(t=parseInt(prompt("What is the first challenge you would like to be in?")),e=parseInt(prompt("What is the second challenge you would like to be in?")),![1,2,3,4,5,6,7,8].includes(t)||![1,2,3,4,5,6,7,8].includes(e)||t===e)return;data.chal2=[t,e]}data.ocDouble&&(collapse(),collapse()),data.incrementyDouble=data.iups[1],data.iups[1]=new EN(0),data.sfBought=calcMile().gte(9)?[11,21,22,23]:[],resizeCanvas(),resetLayer(3),data.factorBoosts=new EN(0),data.omegaChallenge=a},exitOC=()=>{0!==data.omegaChallenge&&(data.ocExitConf&&!confirm("Are you sure you want to exit this Omega Challenge?")||(data.iups[1]=data.incrementyDouble,resetLayer(3),data.chal2=[0,0],data.factorBoosts=new EN(0)))};