"use strict";const SingFunc=class{constructor(e,s,t,i=(()=>!0)){this.id=e,this.cost=new EN(s),this.parents=freeze(t),this.specialReq=i}buy(){data.incrementyverse?data.sfBought.includes(this.id)||!(this.id<90||intersect(data.sfBought,this.parents).length>0)||!functions().gte(this.cost)||data.sfBought.includes(121)&&this.id>130&&data.sfBought.some(e=>Math.floor(e/10)===Math.floor(this.id/10))||!this.specialReq()||(data.sfBought.push(this.id),data.sfEver.includes(this.id)||data.sfEver.push(this.id)):!data.sfBought.includes(this.id)&&6!==data.omegaChallenge&&(this.id<20||intersect(data.sfBought,this.parents).length>0)&&functions().gte(this.cost)&&this.specialReq()&&(data.sfBought.push(this.id),data.sfEver.push(this.id)),renderSF(),resizeCanvas()}render(){if(data.incrementyverse){if(this.id>90&&intersect(data.sfEver,this.parents).length<1)return void $("#sf"+this.id).css("visibility","hidden");$("#sf"+this.id).css("visibility",""),$("#sf"+this.id).removeClass("sfLocked"),$("#sf"+this.id).removeClass("sfCanbuy"),$("#sf"+this.id).removeClass("sfBought"),$("#sf"+this.id).addClass(data.sfBought.includes(this.id)?"sfBought":(this.id<90||intersect(data.sfBought,this.parents).length>0)&&functions().gte(this.cost)&&!(data.sfBought.includes(121)&&this.id>130&&data.sfBought.some(e=>Math.floor(e/10)===Math.floor(this.id/10)))&&this.specialReq()?"sfCanbuy":"sfLocked")}else{if(this.id>20&&intersect(data.sfEver,this.parents).length<1)return void $("#sf"+this.id).css("visibility","hidden");$("#sf"+this.id).css("visibility",""),$("#sf"+this.id).removeClass("sfLocked"),$("#sf"+this.id).removeClass("sfCanbuy"),$("#sf"+this.id).removeClass("sfBought"),$("#sf"+this.id).addClass(data.sfBought.includes(this.id)?"sfBought":6!==data.omegaChallenge&&(this.id<20||intersect(data.sfBought,this.parents).length>0)&&functions().gte(this.cost)&&this.specialReq()?"sfCanbuy":"sfLocked")}}};freeze(SingFunc.prototype);const SF=(e,s,t,i)=>new SingFunc(e,s,t,i),singfunc=freeze([freeze(SF(11,0,[])),freeze(SF(21,24,[11])),freeze(SF(22,15,[11])),freeze(SF(23,20,[11])),freeze(SF(31,6,[22])),freeze(SF(32,10,[22])),freeze(SF(41,0,[31],()=>data.achievements.length>=100)),freeze(SF(42,2,[31,32])),freeze(SF(51,0,[42],()=>totalChalComp()>=34)),freeze(SF(52,12,[42])),freeze(SF(61,17,[51])),freeze(SF(62,15,[51])),freeze(SF(63,42,[51])),freeze(SF(71,0,[61],()=>totalChalComp()>=36)),freeze(SF(72,16,[62])),freeze(SF(73,0,[63],()=>data.bestFBps.gte(5e8)))]),singfunc2=freeze([freeze(SF(81,0,[])),freeze(SF(91,1500,[81])),freeze(SF(92,2500,[81])),freeze(SF(93,1e6,[81])),freeze(SF(101,0,[91],()=>functions().gte(20))),freeze(SF(102,5e3,[92])),freeze(SF(103,"e1e6",[93])),freeze(SF(111,0,[101],()=>functions().gte(600))),freeze(SF(112,4e4,[102])),freeze(SF(113,125,[101,103])),freeze(SF(114,2e5,[102])),freeze(SF(115,"e1e8",[103])),freeze(SF(121,0,[115],()=>data.ivup.includes(4))),freeze(SF(131,"10^^100",[121])),freeze(SF(132,"10^^^^100",[121])),freeze(SF(141,0,[131],()=>data.fractalShift.gte(5)))]),intersect=(e,s)=>{const t=[];for(let i=0;i<e.length;i++)s.includes(e[i])&&t.push(e[i]);return t},refundSF=()=>{spentFunctions().eq(0)||data.refundPoints.gte(1)&&(data.refundPoints=data.refundPoints.sub(1),data.sfBought=calcMile().gte(9)?[11,21,22,23]:[],renderSF(),resizeCanvas())},maxSF=()=>{if(data.incrementyverse)data.refundPoints.gte(100)&&(data.refundPoints=data.refundPoints.sub(100),singfunc2.forEach(e=>e.buy()));else{if(6===data.omegaChallenge)return;data.refundPoints.gte(100)&&(data.refundPoints=data.refundPoints.sub(100),singfunc.forEach(e=>e.buy()))}},functions=(e=singLevel(data.manifolds))=>e.sub(spentFunctions()),spentFunctions=()=>{if(data.incrementyverse){let e=new EN(0);for(let s=0;s<singfunc2.length;s++)data.sfBought.includes(singfunc2[s].id)&&(e=e.add(singfunc2[s].cost));return e}let e=new EN(0);for(let s=0;s<singfunc.length;s++)data.sfBought.includes(singfunc[s].id)&&(e=e.add(singfunc[s].cost));return e.sub(calcMile().gte(9)?59:0)},renderSF=()=>{data.incrementyverse&&($("#refundPoints2").text(beautifyEN(data.refundPoints)),$("#refundSF2").removeClass("sfLocked"),$("#refundSF2").removeClass("sfCanbuy"),$("#refundSF2").addClass(data.refundPoints.gte(1)?"sfCanbuy":"sfLocked"),$("#maxSF2").removeClass("sfLocked"),$("#maxSF2").removeClass("sfCanbuy"),$("#maxSF2").addClass(data.refundPoints.gte(100)?"sfCanbuy":"sfLocked"),$("#functionAmount2").text(beautifyEN(functions())),updateSFRow(),singfunc2.forEach(e=>e.render())),$("#refundPoints").text(beautifyEN(data.refundPoints)),$("#refundSF").removeClass("sfLocked"),$("#refundSF").removeClass("sfCanbuy"),$("#refundSF").addClass(data.refundPoints.gte(1)?"sfCanbuy":"sfLocked"),$("#maxSF").hide(),calcMile().gte(8)&&$("#maxSF").show(),$("#maxSF").removeClass("sfLocked"),$("#maxSF").removeClass("sfCanbuy"),$("#maxSF").addClass(data.refundPoints.gte(100)?"sfCanbuy":"sfLocked"),$("#functionAmount").text(beautifyEN(functions())),updateSFRow(),singfunc.forEach(e=>e.render())},updateSFRow=()=>{if(data.incrementyverse){for(let e=1;e<=7;e++)$("#isfRow"+e).hide();let e=1;for(let s=1;s<7&&singfunc2.some(e=>Math.floor(e.id/10)===s+8&&intersect(data.sfEver,e.parents).length>0);s++)e++;for(let s=1;s<=e;s++)$("#isfRow"+s).show()}for(let e=1;e<=7;e++)$("#sfRow"+e).hide();let e=1;for(let s=1;s<7&&singfunc.some(e=>Math.floor(e.id/10)===s+1&&intersect(data.sfEver,e.parents).length>0);s++)e++;for(let s=1;s<=e;s++)$("#sfRow"+s).show()};