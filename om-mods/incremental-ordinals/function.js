"use strict";const BHO=new EN(3).pow(41).mul(1e256),factorShiftCosts=freeze([new EN(200),new EN(1e3),new EN(1e4),new EN(35e4),new EN(1e12),new EN(1e21),new EN(1e100),EN.NaN]),bupCosts=freeze([new EN(1),new EN(1),new EN(1),new EN(12),new EN(5),new EN(4),new EN(8),new EN(36),new EN(72),new EN(73),new EN(16),new EN(108),new EN(53),new EN(74),new EN(66),new EN(324),EN.NaN,EN.NaN,new EN(8e8),new EN(5e11),EN.NaN,EN.NaN,new EN(2e19),new EN(1e21)]),chalGoals=freeze([freeze([new EN(1e32),new EN(1e223),new EN(1.99e256),EN.NaN]),freeze([new EN(1.99e256),new EN(4.78297e262),new EN(1e256*3**23+1e256),EN.NaN]),freeze([new EN(1e200),new EN(1e214),new EN(1e256),EN.NaN]),freeze([new EN(1e33),new EN(5e113),new EN(1.5e119),EN.NaN]),freeze([new EN(1e122),new EN(3.333e136),new EN(1e219),EN.NaN]),freeze([new EN(1.02e33),new EN(1e44),new EN(4.75e108),EN.NaN]),freeze([new EN(14e12),new EN(5573e15),new EN(136e18),EN.NaN]),freeze([new EN(4e10),new EN(8e10),new EN(32e10),EN.NaN]),freeze([EN.NaN])]),chalCurve=freeze([new EN(0),new EN(.5),new EN(.75),new EN(1)]),iupCosts=freeze([new EN(1e5),new EN(1e3),new EN(1e9),new EN(5e15),new EN(2e22),new EN(4e23),new EN(1e19),new EN(1e25),new EN(1e27)]),slugMile=freeze([EXPANDED_MAX_SAFE_INTEGER,new EN(20),new EN(15),new EN(12),new EN(10),new EN(1),EN.NaN]),aupCosts=freeze([new EN(1),new EN(2),new EN(4),new EN(8),new EN(16),new EN(256),new EN(65536),new EN(2**32),new EN(2**64),new EN(2**128)]),dupCosts=freeze([new EN(5),new EN(1e3),new EN(9)]),baseMile=freeze([new EN(5**75),new EN(5**90),new EN(5**115),new EN(5**120),EN.NaN]),ocGoals=freeze([new EN(1e16),new EN(1e55),new EN(1e75),new EN(1e93),new EN(1e50),new EN(1e85)]),base=(e=data.factorShifts)=>{if(data.bups.includes(10)&&data.ord.lt(1e256))return 5;let a=10;return inChal(4)||(a-=e),inChal(3)&&(a+=5),data.bups.includes(9)&&a>7&&(a-=4),data.bups.includes(23)&&6===a&&(a=5),a},factorShiftCost=(e=data.factorShifts)=>{if(inChal(5)&&e>=2)return EN.NaN;if(7===e)return data.highestReset>=2?EN.NaN:new EN(1e256).mul(81.9);let a=factorShiftCosts;return 4===data.omegaChallenge&&(a=[new EN(5e106),new EN(5e146),new EN(1e250),new EN(1e136),new EN(1e135),new EN(1e234),new EN(1e250),EN.NaN]),a[e].root(data.sfBought.includes(73)&&3===e?2:1).root(ocComp(4).add(1)).round()},totalFactorMult=()=>{if(1===data.omegaChallenge)return new EN(1);let e=new EN(1);for(let a=0;a<data.factorShifts;a++)e=e.mul(new EN(data.factors[a]).add(data.bups.includes(11)?inChal(3)?double().sub(1).mul(3).add(4):4:1)).mul(data.bups.includes(1)?double():1);return e},calcOrdPoints=(e=data.ord,a=data.over,t=base())=>{if(e.lt(t))return e.add(a);if(e.gte(1e256))return e.add(1e256);const d=e.mul(1+1e-12).logBase(t).floor(),o=EN.pow(t,d),l=e.add(.1).div(o).floor();return new EN(10).pow(calcOrdPoints(d,new EN(0),t)).mul(l).add(calcOrdPoints(e.sub(o.mul(l)),a,t)).min(1e256)},opMult=()=>new EN(data.bups.includes(5)?5:1).mul(data.bups.includes(15)&&base()<6?666666:1).mul(inChal(7)?data.chalComp[5]+1:1).mul(inChal(8)?data.chalComp[6]+1:1).mul(data.iups[8]?double().pow(1+data.sfBought.includes(32)):1).mul(5===data.omegaChallenge?1e-4:alephPowerMult(data.alephPower[2]).mul(data.sfBought.includes(71)?functions().div(2).add(1):1).pow(EN.mul(2,EN.sub(1,EN.pow(2,ocComp(5).max(1).neg()))))).mul(data.sfBought.includes(42)?5:1).mul(totalOCComp().max(1)),totalOPGain=(e=calcOrdPoints(),a=opMult())=>e.gte(1.9e256)?e:e.mul(a).min(1e256),passiveOP=(e=1,a=data.factorShifts)=>new EN(e).mul((data.bups.includes(7)?20:0)+(data.leastBoost.lte(15)?15:0)).mul(data.bups.includes(5)?inChal(1)?625:5:1).mul(inChal(8)?data.chalComp[6]+1:1).mul(5===data.omegaChallenge?1e-4:alephPowerMult(data.alephPower[2]).mul(data.sfBought.includes(71)?functions().div(2).add(1):1).pow(EN.mul(2,EN.sub(1,EN.pow(2,ocComp(5).max(1).neg()))))).mul(data.bups.includes(19)&&base(a)<6?666666:1).mul(data.sfBought.includes(42)?5:1).mul(totalOCComp().max(1)),opToOrd=(e,a=base(),t=0)=>{if(e.lte(0)||t>=10)return new EN(0);if(e.gt(2e256))return e.sub(9.999e255);if(e.eq(new EN(1e256).add(1e256))&&3===a)return new EN(3**27);const d=e.log10().add(1e-12).floor();if(validInBase(d,a)){const o=e.div(new EN(10).pow(d)).add(1e-12).floor();return o.gte(a)?new EN(a).pow(opToOrd(d,a,t+1).add(1)):new EN(a).pow(opToOrd(d,a,t+1)).mul(o).add(opToOrd(e.sub(o.mul(new EN(10).pow(d))),a,t+1))}return new EN(a).pow(opToOrd(d,a,t+1))},validInBase=(e,a=base())=>beautifyEN(e).split("").every(e=>Number(e)<a||"e"===e||"."===e),autoclickerSpeed=(e,a=totalFactorMult(),t=totalChalMult())=>e.gte(1.9e256)?e:e.mul(a).mul(t).mul(calcDynamic()).mul(data.leastBase<=3&&!inChal(6)&&!inChal(8)?5:1).mul(data.bups.includes(6)?boosters().pow(.9).add(10).max(data.leastBoost.lte(12)?boosters().sqrt().mul(9).add(10):0):1).mul(5===data.omegaChallenge?1e-4:alephPowerMult(data.alephPower[0]).pow(EN.mul(2,EN.sub(1,EN.pow(2,ocComp(5).max(1).neg()))))).mul(data.aups.includes(3)?data.op.add(1e10).log10().log10():1).mul(new EN(1.2).pow(data.dups[2])).div(new EN(10).pow(data.decrementy.mul(new EN(.95).pow(data.dups[0])))),autobuyerSpeed=(e=incrementyMult(),a=data.op.add(1e10).log10().log10(),t=totalChalMult())=>data.incrementyverse?e.mul(2):new EN(2).mul(t).mul(data.bups.includes(6)?boosters().pow(.9).add(10).max(data.leastBoost.lte(12)?boosters().sqrt().mul(9).add(10):0):1).mul(e).mul(5===data.omegaChallenge?1e-4:alephPowerMult(data.alephPower[1]).mul(data.aups.includes(7)?data.alephOmega.add(1).root(32):1).pow(EN.mul(2,EN.sub(1,EN.pow(2,ocComp(5).max(1).neg()))))).mul(data.aups.includes(1)?getManifoldEffect():1).mul(data.aups.includes(3)?a:1).mul(new EN(1.2).pow(data.dups[2])).add(data.iups[3]?5e8:0).add(data.iups[8]?1e15:0),autoclickerCost=e=>inChal(1)?e.gt(0)?EN.NaN:new EN(1e6):e.gte(1.9e256)?e:new EN(100).mul(new EN(2).pow(e)),calcDynamic=(e=data.dynamic)=>e.mul(getManifoldEffect()).pow(data.bups.includes(13)&&(inChal(1)||inChal(3)||inChal(5)||inChal(9))?2:1),dynamicCap=()=>new EN(10).mul(getDMEffect()).mul(data.aups.includes(6)?alephPowerMult(data.alephPower[1]).mul(data.aups.includes(7)?data.alephOmega.add(1).root(32):1):1),V=e=>{if(e.gte(27))return singLevel().add(40);if(e.eq(0))return new EN(0);let a=V(e.sub(1)).add(1);for(;"<"===ordMarks[a.toNumber()].split("x")[1][0];)a=a.add(1);return a},spentBoosters=()=>{let e=new EN(0);for(let a=1;a<=24;a++)a%4>0&&data.bups.includes(a)&&(e=e.add(bupCost(a)));return e},boosters=(e=data.factorBoosts)=>e.mul(e.add(1)).div(2).add(calcMile().mul(totalOCComp().max(1))).sub(spentBoosters()).round(),bupCost=e=>bupCosts[e-1].pow(e%4==1?EN.pow(.5,ocComp(3)):1).round(),calcBulk=(e=data.op)=>{if(e.gte(new EN(3).pow(V(data.factorBoosts.add(3))).mul(1e256).add(1e256))){let a=new EN(1);for(;e.gte(new EN(3).pow(V(data.factorBoosts.add(a).add(3))).mul(1e256).add(1e256))&&data.factorBoosts.add(a).lt(25);)a=a.add(1);return fbMult().mul(data.bulkBoost?a:1)}return new EN(0)},boosterGain=(e=calcBulk())=>e.eq(0)?data.factorBoosts.add(1):e.mul(e.add(1)).div(2).add(data.factorBoosts.mul(e)),inChal=e=>data.challenge===e||data.chal2.includes(e)||e<7&&inChal(7),inAnyChal=()=>data.challenge>0||1===data.omegaChallenge,chalGoal=(e=data.challenge,a=data.chalComp[e-1])=>9===e?EN.NaN:data.leastBoost.lte(1)&&8===e?new EN(2).pow(a*(a+1)/2).mul(4e10).div(data.sfBought.includes(63)?5===data.omegaChallenge?1e-4:alephPowerMult(data.alephPower[0]).pow(EN.mul(2,EN.sub(1,EN.pow(2,ocComp(5).max(1).neg())))):1):chalGoals[e-1][a],totalChalComp=()=>{let e=0;for(let a=0;a<8;a++)e+=data.chalComp[a];return e},totalChalMult=()=>{if(inChal(8))return new EN(1);let e=new EN(1);for(let a=0;a<8;a++)e=e.mul(7===a?calcDynamic(dynamicCap()).pow(chalCurve[Math.min(3,data.chalComp[7])]):data.factorShifts<=a||inChal(2)&&0===a?1:EN.mul(data.factors[a]+(data.bups.includes(11)?4:1),data.bups.includes(1)?double():1).pow(data.leastBoost.lte(20)&&0===data.chalComp[a]?.25:chalCurve[data.chalComp[a]]));return e},chalBulk=(e=data.challenge,a=data.chalComp[e-1],t=data.op)=>{let d=0;for(;t.gte(chalGoal(e,a+d));)d++;return Math.min(d,data.leastBoost.gt(15)?1:1/0)},incrementyRate=(e=1,a=data.ord)=>data.incrementyverse?a.div(1e256).round().mul(EN.pow(2,data.iups[1])).mul(EN.pow(1e120,data.ivup.length)).mul(data.ivup.includes(2)?EN.pow(10,EN.pow(10,data.bestIncrementy.omegalog(10))):1).mul(e):a.div(1e256).round().pow(ocComp(6).max(1).min(1.1).sqrt()).mul(double().pow(data.iups[1])).mul(data.iups[7]?calcDynamic(dynamicCap()):1).mul(data.aups.includes(5)?5===data.omegaChallenge?1e-4:alephPowerMult(data.alephPower[2]).mul(data.sfBought.includes(71)?functions().div(2).add(1):1).pow(EN.mul(2,EN.sub(1,EN.pow(2,ocComp(5).max(1).neg())))):1).mul(calcDynamic(dynamicCap()).pow(chalIncrementyCurve())).min("1e600").mul(e),incrementyMult=(e=data.incrementy)=>data.incrementyverse?e.add(10).log10().pow(EN.pow(1.05,data.iups[0])).mul(EN.pow(EN.mul(1.2,data.sfBought.includes(102)?sf102Effect():1),data.iups[2].add(data.sfBought.includes(101)?data.iups[1].mul(sf101Effect()):0).add(1))):e.add(10).log10().pow(new EN(1.05).pow(data.iups[0])).mul(new EN(1.2).pow(data.iups[2].add(1))).min(3e120),manifoldReq=(e=data.manifolds)=>data.incrementyverse?EN.pow(3,e.add(1)):new EN(data.iups[5]?2:3).pow(e.add(1)).mul(1.2),getManifoldEffect=(e=data.manifolds.sub(data.sing.m))=>e.add(1).pow(data.sfBought.includes(62)?2:.5).mul(data.iups[3]?3:1).mul(data.iups[4]?1.26:1),decrementyRate=(e=1,a=calcOrdPoints())=>a.pow(.2).div(100).mul(double().pow(data.dups[1].mul(chal8Tip()))).mul(getManifoldEffect().pow(data.sfBought.includes(22)*chal8Tip())).mul(data.sfBought.includes(32)?calcDynamic(dynamicCap()).pow(chal8Tip()):1).mul(data.sfBought.includes(42)?5**chal8Tip():1).mul(e),calcCardExponent=(e=data.collapseTime)=>new EN(5).sub(EN(e).min(1e5).max(1e3).log10()).pow(1.5).mul(.8).add(.5),calcCard=(e=data.factorBoosts)=>e.sub(24).pow(calcCardExponent()).floor().max(data.maxCard),alephPowerRate=e=>e.pow(e.add(1e4).log10().sqrt()),alephPowerMult=e=>e.add(10).log10().mul(data.sfBought.includes(52)?1.5:1),calcMile=()=>{let e=0;for(;data.leastBoost.lte(slugMile[e]);)e++;if(!data.sfEver.includes(51))return new EN(e);for(;data.mostChal4.gte(baseMile[e-6]);)e++;return new EN(e)},dmReq=(e=data.darkManifolds)=>e.add(1).mul(Math.log10(data.sfBought.includes(31)?2:3)),dmBulk=(e=data.decrementy)=>e.gte(dmReq())?data.dmMax?e.div(Math.log10(data.sfBought.includes(31)?2:3)).add(1e-12).floor().sub(data.darkManifolds):new EN(1):new EN(0),getDMEffect=(e=data.darkManifolds.sub(dmSacrifice()))=>e.max(0).add(1).pow(.1).mul(data.sfBought.includes(31)?3.78:1),chal8Tip=(e=data.ord)=>e.gte(base()**(base()*(data.sfBought.includes(61)&&5===base()?4:3)))?1:-1,calcFSTime=(e=data.factorShifts)=>new EN(1).div(data.shiftAuto).max(EN.min(new EN(100).div(passiveOP(1,e)).add(new EN(3===base(e)?3**27:opToOrd(factorShiftCost(e),base(e))).div(autoclickerSpeed(new EN(1),EN.mul(data.bups.includes(1)?double():1,1+(data.bups.includes(11)?3:0)).pow(e),new EN(1)))),3===base(e)?1/0:factorShiftCost(e).div(passiveOP(1,e)))),calcFBTime=()=>{let e=new EN(0),a=new EN(1);for(let t=0;t<8;t++)e=e.add(calcFSTime(t)),7!==t&&(a=a.mul(EN.mul([9,8,7,6,5,4,3][t]+1+(data.bups.includes(11)?3:0),data.bups.includes(1)?double():1).pow(chalCurve[data.chalComp[t]]))),7===t&&(a=a.mul(dynamicCap().pow(chalCurve[Math.min(data.chalComp[7],3)])));const t=autobuyerSpeed(incrementyMult(incrementyRate(1,new EN(2).pow(V(new EN(27))).mul(1e256)).mul(.1)),new EN(1e256).mul(new EN(2).pow(V(new EN(27)))).log10().log10(),a);return new EN(1).div(data.boostAuto).max(e.add(BHO.div(1e256).div(t)))},getFBps=()=>data.leastBoost.lte(12)&&data.shiftAutoOn&&data.boostAutoOn&&(data.leastBoost.lte(1)||data.maxAuto)&&0===data.challenge&&!data.bups.includes(10)?fbMult().div(calcFBTime()):new EN(0),chalIncrementyCurve=(e=data.chalComp[7])=>new EN(e).min(e/2+.5).min(e/4+5/4).min(e/8+17/8).min(e/16+49/16).div(2).sub(1).max(0),singLevel=(e=data.sing.m)=>data.incrementyverse?data.manifolds.add(1e3):e.add(data.sing.dm).add(data.sing.nw).add(1),fbMult=(e=singLevel())=>data.omegaChallenge>0?new EN(1):e.mul(2).sub(1).pow(data.sfBought.includes(72)?1.5:1).round(),dmSacrifice=(e=data.sing.dm)=>new EN(5).pow(e).sub(1).mul(25e4*(1-data.sfBought.includes(11))),ocComp=e=>data.ocBestIncrementy[e-1].gte(ocGoals[e-1])?data.ocBestIncrementy[e-1].logBase(ocGoals[e-1]):new EN(0),totalOCComp=()=>ocComp(1).add(ocComp(2)).add(ocComp(3)).add(ocComp(4)).add(ocComp(5)).add(ocComp(6).min(1.1)),double=(e=ocComp(2))=>new EN(2===data.omegaChallenge?1:e.add(2)),fghexp=(e,a)=>e.eq(0)?a:fghexp(e.sub(1),a).mul(new EN(2).pow(fghexp(e.sub(1),a))),hardy=(e=data.ord,a=data.over,t=base())=>{if(e.gte(t**(t+2)))return new EN(1/0);if(e.gte(t**(t+1)))return EN.expansion(t,hardy(e.sub(t**(t+1)),a,t).add(1));if(e.gte(t**t))return EN.arrow(t,hardy(e.sub(t**t),a,t).sub(1),t+1);if(e.gte(t**3)){const d=e.mul(1+1e-12).logBase(t).floor();return EN.arrow(t,d.sub(1),hardy(e.sub(new EN(t).pow(d)),a,t).add(1))}const d=e.mod(t).add(a),o=e.div(t).floor().mod(t),l=e.div(t**2).floor();return fghexp(l,new EN(2).pow(o).mul(d.add(t)))},displayOrd=(e,a=data.ord,t=data.over,d=base(),o=0,l=!0)=>{if(a.isNaN()||!a.isFinite())return colorWrap(e,0,"Ω");if(a.gte(new EN(3).pow(1107).mul(1e256)))return colorWrap(e,a.gte(EN.tetr(3,5))?0:a.div(1e256).round().logBase(3).div(41).logBase(3).root(4).toNumber(),"ψ(way too large)");if(l&&a.lt(1e256)){if(a.lt(d))return colorWrap(e,0,`${beautifyEN(a.add(t))}`);const l=a.mul(1+1e-12).logBase(d).floor(),n=new EN(d).pow(l),u=a.div(n).floor(),r=`ω${l.eq(1)?"":`<sup>${displayOrd(!1,l,new EN(0),d)}</sup>`}${u.eq(1)?"":u}${a.sub(n.mul(u)).add(t).eq(0)||o===data.maxOrdLength[0]-1?a.sub(n.mul(u)).add(t).eq(0)?"":"+...":"+"}`;return colorWrap(e,ordColor(a,t,d),r)+(a.sub(n.mul(u)).add(t).eq(0)||o===data.maxOrdLength[0]-1?"":displayOrd(e,a.sub(n.mul(u)),t,d,o+1))}if(a.lte(0))return colorWrap(e,0,"1");if(l&&a.eq(BHO))return colorWrap(e,1,"BHO");const n=a.div(1e256).round(),u=n.mul(1+1e-12).logBase(3).floor(),r=displayOrd(e,n.mul(1e256).sub(new EN(3).pow(u).mul(1e256)),new EN(0),d,o+1,!1);return colorWrap(e,u.div(41).toNumber(),ordMarks[u.toNumber()]).replace("x",u.eq(0)||u.mod(41).eq(0)&&u.mod(3).gt(0)||!n.mul(1e256).eq(new EN(3).pow(u).mul(1e256))?n.gt(new EN(3).pow(u))&&o===data.maxOrdLength[a.gt(BHO)?2:1]-1?"...":r:"<"===ordMarks[u.toNumber()].split("x")[1][0]?"ω":"")},beautify=(e,a=!0)=>{if(-1===(e=new EN(e)).sign)return"-"+beautify(e.abs(),a);if(e.isNaN()||!e.isFinite())return"∞";if(e.gte(1.9e256))return`g<sub>${displayOrd(!1,e.sub(9e255),new EN(0),3)}</sub> (10)`;let t=e.log10().floor();if(t.lt(6))return a?e.round().toString():e.toNumber().toFixed(3);let d=e.div(new EN(10).pow(t));return"10.000"===d.toNumber().toFixed(3)&&(d=new EN(1),t=t.add(1)),`${d.toNumber().toFixed(3)}e${t.toString()}`},beautifyLog=(e,a=!0)=>{if((e=new EN(e)).lt(6))return a?new EN(10).pow(e).round().toString():new EN(10).pow(e).toNumber().toFixed(3);if(e.lt("eeee10")){let a=e.floor(),t=new EN(10).pow(e.sub(a));return"10.000"===t.toNumber().toFixed(3)&&(t=new EN(1),a=a.add(1)),`${e.gte(1e6)?"":t.toNumber().toFixed(3)}e${beautifyEN(a)}`}return beautifyEN(new EN(10).pow(e))},arrow=e=>e<6?"↑".repeat(e):`{${e}}`,beautifyEN=(e,a=!0)=>{if(-1===(e=new EN(e)).sign)return"-"+beautifyEN(e.abs(),a);if(e.isNaN()||!e.isFinite())return"∞";if(e.gte("eeeee10"))return e.layer>1?`10{{1}}${beautifyEN(e.layer+2)}`:e.layer>0?`10{${beautifyEN(e.omegalog(10))}}10`:`10${arrow(e.array[e.array.length-1][0]+1)}${beautifyEN(new EN(e.array[e.array.length-1][1]).add(2))}`;if(e.lt(1e6))return a?e.round().toString():e.toNumber().toFixed(3);if(e.lt("ee6")){let a=e.log10().floor(),t=e.div(new EN(10).pow(a)).toNumber().toFixed(3);return"10.000"===t&&(a=a.add(1),t="1.000"),`${t}e${beautifyEN(a)}`}return`e${beautifyEN(e.log10())}`};